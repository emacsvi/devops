# 矿机常用的配置

## 网络配置
由于最新的**ubuntu18**用的`netplan`来管理网络。但是我们的需求是需要一个网卡上面绑定多个网络`ip`地址。

所以还是用传统的`ifup`来管理，干掉`netplan`的管理包。命令如下：
```bash
# 安装ifup相关的工具
sudo apt install ifupdown resolvconf

# manage dns
sudo vi /etc/resolvconf/resolv.conf.d/head
nameserver 61.139.2.69
nameserver 8.8.8.8

# manage ip
auto lo
iface lo inet loopback
auto enp67s0
iface enp67s0 inet static
address 182.140.213.136
netmask 255.255.255.192
gateway 182.140.213.129
auto enp67s0:0
iface enp67s0:0 inet static
address 10.0.20.8
netmask 255.255.255.0
gateway 10.0.20.1


# start service
sudo systemctl enable resolvconf.service
sudo systemctl start resolvconf.service

# delete netplan
sudo systemctl stop systemd-networkd networkd-dispatcher systemd-networkd-wait-online systemd-resolved
sudo systemctl disable systemd-networkd networkd-dispatcher systemd-networkd-wait-online systemd-resolved
sudo systemctl mask systemd-networkd networkd-dispatcher systemd-networkd-wait-online systemd-resolved
sudo apt purge nplan netplan.io -y

# restart service
sudo systemctl restart resolvconf.service

```

## 修改hostname及ssh端口
```bash
# set hostname
sudo hostnamectl set-hostname cdxx0803
sudo vi /etc/hosts # 修改一下hostname
sudo vi /etc/ssh/sshd_config # 修改端口
sudo systemctl restart sshd.service # 重启服务
```


